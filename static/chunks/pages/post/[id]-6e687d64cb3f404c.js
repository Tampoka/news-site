(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{4684:function(e,n,t){"use strict";t.d(n,{a:function(){return i}});var o=t(2125).ZP.div.withConfig({displayName:"style__Container",componentId:"sc-1le255u-0"})(["font-family:",";"],(function(e){return e.theme.fonts.accent})),r=t(5893),i=function(){return(0,r.jsx)(o,{children:"Loading..."})}},6032:function(e,n,t){"use strict";t.d(n,{y:function(){return g}});var o=t(1664),r=t.n(o),i=t(2125),s=i.ZP.h2.withConfig({displayName:"PostBodyStyle__Title",componentId:"sc-153py1s-0"})(["font-size:2.8rem;line-height:1.2;margin:10px 0 20px;@media (max-width:800px){font-size:1.8rem;margin:15px 0;}"]),a=i.ZP.figure.withConfig({displayName:"PostBodyStyle__Figure",componentId:"sc-153py1s-1"})(["margin:0 0 30px;max-width:100%;position:relative;overflow:hidden;border-radius:6px;@media (max-width:800px){margin-bottom:20px;}"]),c=i.ZP.div.withConfig({displayName:"PostBodyStyle__Content",componentId:"sc-153py1s-2"})(["overflow:hidden;.minText{max-height:100px;}font-size:1.25rem;line-height:1.4;max-width:800px;blockquote{background:hsl(171,50%,87%);padding:10px;}cite{display:flex;justify-content:right;}p:last-child{margin-bottom:0;}"]),d=i.ZP.footer.withConfig({displayName:"PostBodyStyle__Meta",componentId:"sc-153py1s-3"})(["color:",";& > *{margin-right:0.3em;}"],(function(e){return e.theme.colors.gray})),l=i.ZP.div.withConfig({displayName:"PostBodyStyle__ShowMore",componentId:"sc-153py1s-4"})(["{cursor:pointer;margin-bottom:10px;color:",";}"],(function(e){return e.theme.colors.blue})),u=i.ZP.nav.withConfig({displayName:"styles__Container",componentId:"sc-1k4es00-0"})(["& > *{margin-right:0.3em;}"]),p=t(5893),m=function(e){var n=e.post;return(0,p.jsxs)(u,{children:[(0,p.jsx)(r(),{href:"/",children:(0,p.jsx)("a",{children:"\u30db\u30fc\u30e0"})}),(0,p.jsx)("span",{}),(0,p.jsx)(r(),{href:"/category/".concat(n.category),children:(0,p.jsx)("a",{children:n.category})})]})},h=t(7294),f=t(5675),x=t.n(f),g=function(e){var n=e.post,t=(0,h.useState)(!1),o=t[0],i=t[1],u=o?"":"minText";return(0,p.jsxs)("div",{children:[(0,p.jsx)(m,{post:n}),(0,p.jsx)(s,{children:n.title}),(0,p.jsx)(a,{children:(0,p.jsx)(x(),{src:n.image,alt:n.title,loading:"lazy",layout:"responsive",objectFit:"cover",objectPosition:"center",width:960,height:340})}),(0,p.jsx)(c,{children:(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:n.content},className:u})}),(0,p.jsx)(l,{onClick:function(){return i(!0)},children:o?"":"\u7d9a\u304d\u3092\u8aad\u3080"}),(0,p.jsxs)(d,{children:[(0,p.jsx)("span",{children:n.date}),(0,p.jsx)("span",{children:"\xb7"}),(0,p.jsx)(r(),{href:"/category/".concat(n.category),children:(0,p.jsx)("a",{children:n.category})}),(0,p.jsx)("span",{children:"\xb7"}),(0,p.jsx)("a",{href:n.source,target:"_blank",rel:"noopener noreferrer",children:"\u30bd\u30fc\u30b9"})]})]})}},8526:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return k},default:function(){return z}});var o=t(6032),r=t(4684),i=t(2125),s=i.ZP.section.withConfig({displayName:"styles__Container",componentId:"sc-186je01-0"})(["margin:1.5rem 0;.comments-count{text-decoration:underline;cursor:pointer;}"]),a=i.ZP.ul.withConfig({displayName:"styles__List",componentId:"sc-186je01-1"})(["margin:0;padding:0;list-style:none;margin-bottom:20px;"]),c=i.ZP.li.withConfig({displayName:"styles__Item",componentId:"sc-186je01-2"})(["list-style:none;border-bottom:1px solid rgba(0,0,0,0.1);"]),d=t(29),l=t(7794),u=t.n(l),p=t(7294),m=t(3300),h=t.n(m),f=t(3454),x={baseUrl:f.env.REACT_APP_DEV_BASE_URL};function g(e,n,t){return y.apply(this,arguments)}function y(){return(y=(0,d.Z)(u().mark((function e(n,t,o){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()("".concat(x.baseUrl,"/posts/").concat(n,"/comments"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({name:t,comment:o})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=i.ZP.form.withConfig({displayName:"styles__Form",componentId:"sc-tm2hed-0"})(["margin-top:10px;input,textarea{display:block;width:100%;border:1px solid rgba(0,0,0,0.1);box-shadow:none;resize:none;font-size:1em;padding:5px;border-radius:2px;margin:10px 0;}button{border:0;font-size:1rem;padding:8px 20px;border-radius:6px;background-color:#fff;box-shadow:0 0 0 1px rgba(0,0,0,0.035),0 4px 25px rgba(0,0,0,0.07);transition:all 0.2s;cursor:pointer;&:hover{box-shadow:0 0 0 1px rgba(0,0,0,0.035),0 6px 35px rgba(0,0,0,0.2);}}"]),_=t(9473),b=t(182),w=t(5893),v=function(e){var n=e.post,t=(0,_.I0)(),o=(0,p.useState)(!1),r=o[0],i=o[1],s=(0,p.useState)(""),a=s[0],c=s[1],l=(0,p.useState)(""),m=l[0],h=l[1];function f(){return(f=(0,d.Z)(u().mark((function e(o){var r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),i(!0),e.next=4,g(n,m,a);case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,i(!1),c(""),h(""),200===r.status&&t({type:b.z,comments:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsxs)(j,{onSubmit:function(e){return f.apply(this,arguments)},children:[(0,w.jsx)("h3",{children:"\u30b3\u30e1\u30f3\u30c8\u3092\u66f8\u304f"}),(0,w.jsx)("input",{type:"text",name:"name",value:m,placeholder:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0",onChange:function(e){return h(e.target.value)},required:!0}),(0,w.jsx)("textarea",{name:"comment",value:a,placeholder:"\u3053\u306e\u8a18\u4e8b\u306b\u95a2\u3059\u308b\u3042\u306a\u305f\u306e\u610f\u898b\u3084\u7591\u554f",onChange:function(e){return c(e.target.value)},required:!0}),r?(0,w.jsx)("span",{children:"Submitting..."}):(0,w.jsx)("button",{children:"\u6295\u7a3f\u3059\u308b"})]})},C=i.ZP.article.withConfig({displayName:"styles__Container",componentId:"sc-i5xj3i-0"})(["padding:10px 0;"]),P=i.ZP.h4.withConfig({displayName:"styles__Author",componentId:"sc-i5xj3i-1"})(["display:block;font-size:1rem;"]),N=i.ZP.p.withConfig({displayName:"styles__Body",componentId:"sc-i5xj3i-2"})(["margin:0;"]),S=i.ZP.footer.withConfig({displayName:"styles__Meta",componentId:"sc-i5xj3i-3"})(["color:",";font-size:0.8em;"],(function(e){return e.theme.colors.gray})),I=function(e){var n=e.comment;return(0,w.jsxs)(C,{children:[(0,w.jsx)(P,{children:n.author}),(0,w.jsx)(N,{children:n.content}),(0,w.jsx)(S,{children:n.time})]})},Z=function(e){var n=e.post,t=e.comments,o=(0,p.useState)(!1),r=o[0],i=o[1],d=t.length?"".concat(t.length,"\u4ef6\u306e\u30b3\u30e1\u30f3\u30c8"):"\u30b3\u30e1\u30f3\u30c8\u304c\u3042\u308a\u307e\u305b\u3093";return(0,w.jsxs)(s,{id:"comments",children:[(0,w.jsx)("h3",{onClick:function(){return i((function(e){return!e}))},className:"comments-count",children:d}),r&&t.length>0&&(0,w.jsx)(a,{children:t.map((function(e){return(0,w.jsx)(c,{children:(0,w.jsx)(I,{comment:e})},e._id)}))}),(0,w.jsx)(v,{post:n})]})},k=!0,z=function(){var e=(0,_.v9)((function(e){return e})),n=e.post,t=e.comments;return n?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.y,{post:n}),(0,w.jsx)(Z,{comments:t,post:n._id})]}):(0,w.jsx)(r.a,{})}},3208:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[id]",function(){return t(8526)}])},3300:function(e,n){"use strict";var t=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("unable to locate global object")}();e.exports=n=t.fetch,t.fetch&&(n.default=t.fetch.bind(t)),n.Headers=t.Headers,n.Request=t.Request,n.Response=t.Response}},function(e){e.O(0,[675,774,888,179],(function(){return n=3208,e(e.s=n);var n}));var n=e.O();_N_E=n}]);